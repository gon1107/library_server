{% extends 'book/base_full_width.html' %}
{% load crispy_forms_tags %}
{% block head_title %}Create Book - Library{% endblock %}

<!-- base.html의 main_area block을 찾아 아래 html 태그들로 변경 -->
{% block main_area %}
<h1>Create New Book</h1>
<hr/>
<form method="post" enctype="multipart/form-data">{% csrf_token %}
    {{form | crispy}}
    <div id="div_id_tags_str">Tags:</label>
        <input type="text" name="tags_str" id="id_tags_str" class="textinput textInput form-control">
    </div>
    </br>
    <button type="submit" class="btn btn-primary float-right">Submit</button>
</form>
{{form.media}}
<script>
    function getUrlParams() {
        var params = {};

        window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,
    	    function(str, key, value) {
        	    params[key] = value;
            }
        );

        return params;
    }

    window.onload = function() {
        if (getUrlParams().error) {
            let div = document.createElement("div")
            div.append("slug가 빈 값입니다.")

            let divTag = document.getElementById('div_id_tags_str')
            divTag.append(div)
        }
    }
</script>
{% endblock %}